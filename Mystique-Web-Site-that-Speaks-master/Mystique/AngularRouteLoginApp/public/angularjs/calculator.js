var  calculator=angular.module('calculator',[]);

calculator.controller('calculator',function ($scope,$http){
	$scope.num1='';
	$scope.tokens='';
	$scope.divide_by_zero=true;
	$scope.tokenize01=function(){
		$scope.num1=$scope.num1+'1';
		console.log($scope.num1+"\n");
	}
	$scope.tokenize02=function(){
		$scope.num1=$scope.num1+'2';
		console.log($scope.num1+"\n");
	} 
	$scope.tokenize03=function(){
		$scope.num1=$scope.num1+'3';
		console.log($scope.num1+"\n");
	} 
	$scope.tokenize04=function(){
		$scope.num1=$scope.num1+'4';
		console.log($scope.num1+"\n");
	} 
	$scope.tokenize05=function(){
		$scope.num1=$scope.num1+'5';
		console.log($scope.num1+"\n");
	} 
	$scope.tokenize06=function(){
		$scope.num1=$scope.num1+'6';
		console.log($scope.num1+"\n");
	} 
	$scope.tokenize07=function(){
		$scope.num1=$scope.num1+'7';
		console.log($scope.num1+"\n");
	} 
	$scope.tokenize08=function(){
		$scope.num1=$scope.num1+'8';
		console.log($scope.num1+"\n");
	} 
	$scope.tokenize09=function(){
		$scope.num1=$scope.num1+'9';
		console.log($scope.num1+"\n");
	} 
	$scope.tokenize00=function(){
		$scope.num1=$scope.num1+'0';
		console.log($scope.num1+"\n");
	} 

	$scope.tokenize1=function(){
		$scope.tokens=$scope.tokens+$scope.num1+'+';
		console.log($scope.tokens);
		$scope.num1='';
	} 	
	$scope.tokenize2=function(){
		$scope.tokens=$scope.tokens+$scope.num1+'-';
		console.log($scope.tokens);
		$scope.num1='';
	} 	
	$scope.tokenize3=function(){
		$scope.tokens=$scope.tokens+$scope.num1+'*';
		console.log($scope.tokens);
		$scope.num1='';
	} 	
	$scope.tokenize4=function(){
		$scope.tokens=$scope.tokens+$scope.num1+'/';
		console.log($scope.tokens);
		$scope.num1='';
	} 	
	$scope.submit=function(){
			$scope.tokens=$scope.tokens+$scope.num1;
			console.log($scope.tokens);
			$scope.num1='0';
	 		$scope.result="";
		$http({
			method:"POST",
			url:'/calculate',
			data : {
							'token_string':$scope.tokens,
			}
		}).success(function(data){
			if(data.statusCode==406){
				$scope.divide_by_zero=false;
			}
			else{
				$scope.divide_by_zero=true;
				$scope.result=data.result;
				$scope.num1=""+data.result;
			}
		}).error(function(error){
			$scope.invalid_src_dest=true;
			$scope.valid_src_dest=true;
		})
		$scope.tokens="";
	};
});
